!function(){"use strict";angular.module("angularHoverEdit",[]).directive("hoverEdit",["$animate","$compile",function(e,n){return{priority:100,restrict:"EA",require:["?hoverEditPermissions","?messageService"],scope:{saveFn:"=?saveFn",addFn:"=?addFn",cancelFn:"=?cancelFn",unitToSave:"=?unitToSave",editMode:"=?editMode",formName:"@formName",readOnly:"=?readOnly"},transclude:!0,template:'<div class="animated-element edit-container" ng-mouseover="(!editMode.on) ? triggerhoverAnimation(false) : \'\'" ng-mouseleave="(!editMode.on) ? triggerhoverAnimation(true) : \'\'" ng-click="setEditMode()"ng-transclude></div>',link:function(t,i,o,s){function a(n){if(!t.editMode.on){var o=i.children(".editContainer")[0];null!==o&&(o=angular.element(o),n?(e.addClass(o,"edit-box"),e.removeClass(o,"box-border"),t.showIcon=!1):(e.addClass(o,"box-border"),e.removeClass(o,"edit-box"),t.showIcon=!0))}}function r(n){n&&_.isFunction(t.addFn())&&t.addFn();var o=i.children(".editContainer");t.editMode.on=!0,e.removeClass(i,"disabled"),e.addClass(o,"box-border"),e.removeClass(o,"edit-box")}function d(){var e=angular.element(document.getElementById(t.formName));e&&e.hasClass("ng-invalid")||(_.isFunction(t.saveFn)?(t.showSpinner=!0,t.saveFn(t.unitToSave).then(function(){t.showSpinner=!1,t.editMode.on=!1,u(),s[1]&&s[1].showMessage.success("")("Save Successful")})["catch"](function(){t.showSpinner=!1})):(t.editMode.on=!1,u()))}function l(){t.editMode.on=!1,_.isFunction(t.cancelFn)&&t.cancelFn(),u()}function c(){_.isFunction(t.addFn)&&(g.after(h),n(h)(t)),t.readOnly||s[0]&&!s[0].hasPermissions||(g.append(p),n(p)(t)),s[0]&&!s[0].hasPermissions||(g.after(m),g.after(v),n(m)(t),n(v)(t)),g.addClass("edit-box"),i.addClass("disabled")}function u(){a(!0),i.addClass("disabled")}var p=angular.element('<span class="top-rt-corner-box"><i class="lds-icon lds-icon-pencil"></i></span>'),v=angular.element('<div class="save-exit-btns"><button class="btn btn-danger-hover" ng-disabled="showSpinner" type="button" ng-show="editMode.on" ng-click="functions.cancel()" tooltip-popup-delay="500" tooltip-append-to-body="true" tooltip="Cancel Changes" style="float: right">CANCEL</button><button class="btn btn-success-hover" ng-disabled="showSpinner" type="submit" form="{{formName}}" ng-show="editMode.on" ng-click="functions.save()" tooltip-popup-delay="500" tooltip-append-to-body="true" tooltip="Save Changes" style="float: right;margin-right: 2px">SAVE</button></div>'),h=angular.element('<button class="margin-bot-5 btn btn-default add-btn add-restriction" type="button" ng-show="editMode.on" ng-click="setEditMode(true)" tooltip-popup-delay="500" tooltip-append-to-body="true" tooltip="Add Restriction"><i class="lds-icon lds-icon-add"></i> </button>'),m=angular.element('<div class="hover-edit-spinner" ng-show="showSpinner"><util-spinner></util-spinner></div>'),g=i.children(".editContainer");t.cancelClick=function(e){},t.$watch("readOnly",function(e,i){e!=i&&(e?(t.triggerhoverAnimation=null,t.setEditMode=null,p.remove()):s[0]&&!s[0].hasPermissions||(t.triggerhoverAnimation=a,t.setEditMode=r,g.append(p),n(p)(t)))}),t.readOnly||s[0]&&!s[0].hasPermissions||(t.triggerhoverAnimation=a,t.setEditMode=r),t.functions={save:d,cancel:l},c(),t.editMode={on:!1},t.showIcon=!1,t.showSpinner=!1}}}]).directive("utilSpinner",[function(){return{restrict:"E",template:'<span us-spinner="{radius:4, width:2, length: 2, lines: 9, scale: 1.5, corners: 1.0, speed: 2.0, hwaccel: true, trail: 100, className: className}"></span>',scope:{className:"@className"}}}]).directive("hoverEditLink",[function(){return{restrict:"EA",template:'<span class="hover-edit-link" ng-click="hoverEditLink.redirectToLink($event)" ng-transclude></span>',transclude:!0,scope:{link:"@link"},bindToController:!0,controllerAs:"hoverEditLink",controller:["$location",function(e){var n=this;n.redirectToLink=function(t){t.stopPropagation(),e.path(n.link)}}]}}])}();
//# sourceMappingURL=angular-hover-edit.min.js.map
