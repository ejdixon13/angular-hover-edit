!function(){"use strict";angular.module("angularHoverEdit",[]).directive("hoverEdit",["$animate","$compile",function(e,n){return{priority:100,restrict:"EA",require:["?hoverEditPermissions","?messageService"],scope:{saveFn:"=?saveFn",addFn:"=?addFn",cancelFn:"=?cancelFn",unitToSave:"=?unitToSave",editMode:"=?editMode",formName:"@formName",readOnly:"=?readOnly"},transclude:!0,template:'<div class="animated-element edit-container" ng-mouseover="(!editMode.on) ? triggerhoverAnimation(false) : \'\'" ng-mouseleave="(!editMode.on) ? triggerhoverAnimation(true) : \'\'" ng-click="setEditMode()"ng-transclude></div>',link:function(t,o,i,s){function a(n){if(!t.editMode.on){var i=o.children(".editContainer")[0];null!==i&&(i=angular.element(i),n?(e.addClass(i,"edit-box"),e.removeClass(i,"box-border"),t.showIcon=!1):(e.addClass(i,"box-border"),e.removeClass(i,"edit-box"),t.showIcon=!0))}}function d(n){n&&_.isFunction(t.addFn())&&t.addFn();var i=o.children(".editContainer");t.editMode.on=!0,e.removeClass(o,"disabled"),e.addClass(i,"box-border"),e.removeClass(i,"edit-box")}function r(){var e=angular.element(document.getElementById(t.formName));e&&e.hasClass("ng-invalid")||(_.isFunction(t.saveFn)?(t.showSpinner=!0,t.saveFn(t.unitToSave).then(function(){t.showSpinner=!1,t.editMode.on=!1,u(),s[1]&&s[1].showMessage.success("")("Save Successful")})["catch"](function(){t.showSpinner=!1})):(t.editMode.on=!1,u()))}function l(){t.editMode.on=!1,_.isFunction(t.cancelFn)&&t.cancelFn(),u()}function c(){_.isFunction(t.addFn)&&(g.after(v),n(v)(t)),t.readOnly||s[0]&&!s[0].hasPermissions||(g.append(p),n(p)(t)),s[0]&&!s[0].hasPermissions||(g.after(h),g.after(m),n(h)(t),n(m)(t)),g.addClass("edit-box"),o.addClass("disabled")}function u(){a(!0),o.addClass("disabled")}var p=angular.element('<span class="top-rt-corner-box"><i class="lds-icon lds-icon-pencil"></i></span>'),m=angular.element('<div class="save-exit-btns"><button class="btn btn-danger-hover" ng-disabled="showSpinner" ng-show="editMode.on" ng-click="functions.cancel()" tooltip-popup-delay="500" tooltip-append-to-body="true" tooltip="Cancel Changes" style="float: right">CANCEL</button><button class="btn btn-success-hover" ng-disabled="showSpinner" type="submit" form="{{formName}}" ng-show="editMode.on" ng-click="functions.save()" tooltip-popup-delay="500" tooltip-append-to-body="true" tooltip="Save Changes" style="float: right;margin-right: 2px">SAVE</button></div>'),v=angular.element('<button class="margin-bot-5 btn btn-default add-btn add-restriction" ng-show="editMode.on" ng-click="setEditMode(true)" tooltip-popup-delay="500" tooltip-append-to-body="true" tooltip="Add Restriction"><i class="lds-icon lds-icon-add"></i> </button>'),h=angular.element('<div class="hover-edit-spinner" ng-show="showSpinner"><util-spinner></util-spinner></div>'),g=o.children(".editContainer");t.$watch("readOnly",function(e,o){e!=o&&(e?(t.triggerhoverAnimation=null,t.setEditMode=null,p.remove()):s[0]&&!s[0].hasPermissions||(t.triggerhoverAnimation=a,t.setEditMode=d,g.append(p),n(p)(t)))}),t.readOnly||s[0]&&!s[0].hasPermissions||(t.triggerhoverAnimation=a,t.setEditMode=d),t.functions={save:r,cancel:l},c(),t.editMode={on:!1},t.showIcon=!1,t.showSpinner=!1}}}]).directive("utilSpinner",[function(){return{restrict:"E",template:'<span us-spinner="{radius:4, width:2, length: 2, lines: 9, scale: 1.5, corners: 1.0, speed: 2.0, hwaccel: true, trail: 100, className: className}"></span>',scope:{className:"@className"}}}])}(),function(){"use strict";angular.module("angularHoverEdit",[]).directive("hoverEdit",["$animate","$compile",function(e,n){return{priority:100,restrict:"EA",require:["?hoverEditPermissions","?messageService"],scope:{saveFn:"=?saveFn",addFn:"=?addFn",cancelFn:"=?cancelFn",unitToSave:"=?unitToSave",editMode:"=?editMode",formName:"@formName",readOnly:"=?readOnly"},transclude:!0,template:'<div class="animated-element edit-container" ng-mouseover="(!editMode.on) ? triggerhoverAnimation(false) : \'\'" ng-mouseleave="(!editMode.on) ? triggerhoverAnimation(true) : \'\'" ng-click="setEditMode()"ng-transclude></div>',link:function(t,o,i,s){function a(n){if(!t.editMode.on){var i=o.children(".editContainer");null!==i&&(i=angular.element(i),n?(e.addClass(i,"edit-box"),e.removeClass(i,"box-border"),t.showIcon=!1):(e.addClass(i,"box-border"),e.removeClass(i,"edit-box"),t.showIcon=!0))}}function d(n){n&&_.isFunction(t.addFn())&&t.addFn();var i=o.children(".editContainer");t.editMode.on=!0,e.removeClass(o,"disabled"),e.addClass(i,"box-border"),e.removeClass(i,"edit-box")}function r(){var e=$("#"+t.formName);e&&e.hasClass("ng-invalid")||(_.isFunction(t.saveFn)?(t.showSpinner=!0,t.saveFn(t.unitToSave).then(function(){t.showSpinner=!1,t.editMode.on=!1,u(),s[1]&&s[1].showMessage.success("")("Save Successful")})["catch"](function(){t.showSpinner=!1})):(t.editMode.on=!1,u()))}function l(){t.editMode.on=!1,_.isFunction(t.cancelFn)&&t.cancelFn(),u()}function c(){t.addFn&&(g.after(v),n(v)(t)),s[0]&&!s[0].hasPermissions||(g.append(p),g.after(h),g.after(m)),g.addClass("edit-box"),o.addClass("disabled"),n(p)(t),n(h)(t),n(m)(t)}function u(){a(!0),o.addClass("disabled")}var p=angular.element('<span class="top-rt-corner-box"><i class="lds-icon lds-icon-pencil"></i></span>'),m=angular.element('<div class="save-exit-btns"><button class="btn btn-danger-hover" ng-disabled="showSpinner" ng-show="editMode.on" ng-click="functions.cancel()" tooltip-popup-delay="500" tooltip-append-to-body="true" tooltip="Cancel Changes" style="float: right">CANCEL</button><button class="btn btn-success-hover" ng-disabled="showSpinner" type="submit" form="{{formName}}" ng-show="editMode.on" ng-click="functions.save()" tooltip-popup-delay="500" tooltip-append-to-body="true" tooltip="Save Changes" style="float: right;margin-right: 2px">SAVE</button></div>'),v=angular.element('<button class="margin-bot-5 btn btn-default add-btn add-restriction" ng-show="editMode.on" ng-click="setEditMode(true)" tooltip-popup-delay="500" tooltip-append-to-body="true" tooltip="Add Restriction"><i class="lds-icon lds-icon-add"></i> </button>'),h=angular.element('<div class="hover-edit-spinner" ng-show="showSpinner"><util-spinner></util-spinner></div>'),g=o.children(".editContainer");t.$watch("readOnly",function(e,o){e!=o&&(e?(t.triggerhoverAnimation=null,t.setEditMode=null,p.remove()):s[0]&&!s[0].hasPermissions||(t.triggerhoverAnimation=a,t.setEditMode=d,g.append(p),n(p)(t)))}),(!t.readOnly&&!s[0]||s[0].hasPermissions)&&(t.triggerhoverAnimation=a,t.setEditMode=d),t.functions={save:r,cancel:l},c(),t.editMode={on:!1},t.showIcon=!1,t.showSpinner=!1}}}]).directive("utilSpinner",[function(){return{restrict:"E",template:'<span us-spinner="{radius:4, width:2, length: 2, lines: 9, scale: 1.5, corners: 1.0, speed: 2.0, hwaccel: true, trail: 100, className: className}"></span>',scope:{className:"@className"}}}])}();
//# sourceMappingURL=angular-hover-edit.min.js.map
